# 7つのソフトウェア設計原則

## 3つの観点で見るソフトウェア品質
1. 合目的性：入出力や計算判断の機能要求を満たす。
2. 安定性：可用性・性能とスケーラビリティ・セキュリティの要求を満たす。
3. 発展性：変更容易性や拡張性

合目的性と安定性はソフトウェアの利用者が判断可能な外部品質です。
発展性は、ソフトウェアの利用者からは判断しにくい内部品質です。

**もっとも重要なソフトウェア品質は発展性**
事業の持続的な成長に貢献できる発展性を持つソフトウェアがビジネス価値を生み出します。
ソフトウェアの発展性が向上すれば、合目的性や安定性も継続的に改善できます。

## 発展性を産みだす7つの設計原則
1. 関心の分離
2. カプセル化
3. 抽象化
4. 疎結合
5. 高凝集
6. 単一定義
7. モジュール化
7つの設計原則の中心にあるのがモジュール化である。

## モジュール化
複雑で大きなソフトウェアを複数のプログラムファイルに分割し、それらを組み合わせて全体をつくりあげるのがモジュール化です。

### モジュール化の2つのアプローチ
1. 型によるモジュール化
2. 手続き的なモジュール

7つの設計原則は、どちらの設計アプローチでも適用可能です。
しかし、型によるモジュール化の設計アプローチと、手続き的なモジュール化の設計アプローチとでは、それぞれの設計原則をどう適用するかの考え方とやり方が大きく異なります。

### 型によるモジュール化
- 型によるプログラミングの分割
- 値の種類ごとに値を使った操作(計算や判断)をグルーピングして一つのモ
  ジュールにまとめるのがオブジェクト指向プログラミングの基本的な考え方
  です。
- 型には組み込み型と、ユーザー定義型がある。
- 独自の型をもモジュールとして作成しそれらのモジュールを組み合わせてア
  プリケーションでをボトムアップに組み立てていくのがオブジェクト指向プ
  ログラミングの基本アプローチ。
- 計算判断のロジックがどのモジュールに書いてあるのかを分かりやすく整理
  できる。
  
### 手続き的なモジュール化
- 「入力ー処理ー出力」という単位のモジュール分割
- 手続き的んあモジュール分割はトップダウンのアプローチ
- 手続き的なモジュールは、大きなデータクラスを受け取り大きなデータクラ
スを返す設計が多くなります。
- 計算や判断のロジックは、受け取ったデータクラスのデータ項目を処理する
手順の一部として記述します。 
- 型によるモジュール分割とは対照的に、異なる値の種類に対する計算判断のロジックが一つのモジュールに混在します。
- 手続き的なモジュール構造では、同じようなデータクラスを受け取れば、同じような計算判断のロジックが複数のモジュールに重複します。
- その結果、ソフトウェアの変更はやっかいで危険になります。
- 重複したコードはソフトウェアの発展性を阻害します。

## 関心の分離
**関心の4現象**
|            | 入出力                 | 計算・判断                       |
|------------|:----------------------:|:--------------------------------:|
| 業務の関心 | 記録、参照、通知、送付 | ビジネスツールに基づく計算・判断 |
| 実装の詳細 | 入出力の実装の詳細     | 計算・判断の実装の詳細           |
|       |               |                       |

### 入出力と計算・判断の分離
### 業務の関心と実装の詳細の分離
ビジネスロジックの複雑さの整理に威力を発揮するのが、カプセル化と抽象化の２つの設計原則です

